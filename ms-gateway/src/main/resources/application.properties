spring.application.name=ms-gateway
server.port=8085

spring.cloud.discovery.enabled=true 

eureka.client.service-url.defaultZone=${DISCOVERY_SERVICE_URL:http://localhost:8761/eureka}
eureka.instance.prefer-ip-address=true

spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true
spring.cloud.gateway.discovery.locator.predicates[0]=Path=/{serviceId}/**
spring.cloud.gateway.discovery.locator.filters[0]=RewritePath=/{serviceId}/(?<remaining>.*), /${remaining}

spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedOrigins=*
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedMethods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedHeaders=*
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowCredentials=false

spring.security.oauth2.resourceserver.jwt.issuer-uri=${KEYCLOCK_SERVICE_URL:http://localhost:8080/realms/lefort-realm}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${KEYCLOCK_SERVICE_JWT_URL:http://localhost:8080/realms/lefort-realm/protocol/openid-connect/certs}

spring.main.allow-bean-definition-overriding=true